# ==============================================================================
# Ngurra Pathways / Gimbi - Environment Configuration Template
# ==============================================================================
# Copy this file to .env and fill in the values for your environment.
# Required variables are marked with [REQUIRED].
# ==============================================================================

# ------------------------------------------------------------------------------
# Core Configuration
# ------------------------------------------------------------------------------

NODE_ENV=development
PORT=3333

# Frontend URL (for CORS and Socket.io)
FRONTEND_URL="http://localhost:3000"

# Allowed Origins for CORS and Socket.io (comma-separated)
# ALLOWED_ORIGINS="http://localhost:3000,http://localhost:19006"

# ------------------------------------------------------------------------------
# Database [REQUIRED] - Use PostgreSQL
# ------------------------------------------------------------------------------

# For local development with docker-compose.dev.yml:
DATABASE_URL="postgresql://ngurra:dev_password_secure@localhost:5432/ngurra_dev"

# Legacy SQLite (deprecated - do not use in new setups)
# DATABASE_URL_SQLITE="file:./dev_test.db"

# ------------------------------------------------------------------------------
# Authentication [REQUIRED]
# ------------------------------------------------------------------------------

# Production: Use a strong 32+ character random string
# Generate with: node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
JWT_SECRET="dev-jwt-secret-change-in-production-must-be-32-chars"
DEV_JWT_SECRET="dev-jwt-secret-for-local-only"
JWT_EXPIRES_IN="15m"
JWT_REFRESH_EXPIRES_IN="7d"

NEXTAUTH_SECRET="dev-nextauth-secret"

# ------------------------------------------------------------------------------
# Redis (Recommended)
# ------------------------------------------------------------------------------

REDIS_URL="redis://localhost:6379"
REDIS_HOST="localhost"
REDIS_PORT="6379"

# ------------------------------------------------------------------------------
# AWS Services
# ------------------------------------------------------------------------------

AWS_REGION="ap-southeast-2"
AWS_ACCESS_KEY_ID="your-key"
AWS_SECRET_ACCESS_KEY="your-secret"
AWS_S3_BUCKET="ngurra-dev"

# SES for emails
# AWS_SES_ACCESS_KEY="..."
# AWS_SES_SECRET_KEY="..."

# ------------------------------------------------------------------------------
# Stripe
# ------------------------------------------------------------------------------

STRIPE_SECRET_KEY="sk_test_..."
STRIPE_PUBLISHABLE_KEY="pk_test_..."
STRIPE_WEBHOOK_SECRET="whsec_..."

# Price IDs (create in Stripe Dashboard > Products)
STRIPE_PRICE_STARTER="price_starter_monthly"
STRIPE_PRICE_PROFESSIONAL="price_professional_monthly"
STRIPE_PRICE_ENTERPRISE="price_enterprise_monthly"
STRIPE_PRICE_RAP="price_rap_monthly"

# ------------------------------------------------------------------------------
# PayPal (Alternative payments)
# ------------------------------------------------------------------------------

PAYPAL_CLIENT_ID="..."
PAYPAL_CLIENT_SECRET="..."

# ------------------------------------------------------------------------------
# Email Configuration
# ------------------------------------------------------------------------------

# Option 1: SendGrid
SENDGRID_API_KEY="..."
SENDGRID_FROM_EMAIL="noreply@ngurra.example"

# Option 2: SMTP (for Mailhog in dev: localhost:1025)
SMTP_HOST="localhost"
SMTP_PORT=1025
SMTP_SECURE=false
SMTP_USER=""
SMTP_PASS=""
FROM_EMAIL="no-reply@ngurra.example"

# ------------------------------------------------------------------------------
# AI Services
# ------------------------------------------------------------------------------

# OpenAI for AI features
# OPENAI_API_KEY="sk-..."

# Prototype AI server
AI_PROTOTYPE_URL="http://localhost:3000"

# ------------------------------------------------------------------------------
# Feature Flags
# ------------------------------------------------------------------------------

# Scheduler / background jobs
# Set true to disable the interval-based scheduler (job alerts, pre-apply, etc.)
DISABLE_SCHEDULER=false

FEATURE_WEBSOCKETS=false
FEATURE_AI_CHAT=false
FEATURE_VIDEO_CALLS=false

# ------------------------------------------------------------------------------
# CORS
# ------------------------------------------------------------------------------

ALLOWED_ORIGINS="http://localhost:3000,http://127.0.0.1:3000"

# ------------------------------------------------------------------------------
# Media Processing
# ------------------------------------------------------------------------------

FFMPEG_PATH="/usr/bin/ffmpeg"

# ------------------------------------------------------------------------------
# Testing
# ------------------------------------------------------------------------------

SES_TEST_CAPTURE=0
